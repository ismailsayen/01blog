<table class="table table-hover">
    <thead>
        <tr>
            <th scope="col">id</th>
            <th scope="col">Reported user</th>
            <th scope="col">Reason</th>
            <th scope="col">TargetType</th>
            <th scope="col">ReportedAt</th>
            <th scope="col">Status</th>
            <th scope="col">Action</th>

        </tr>
    </thead>
    <tbody>

        @for (report of reports(); track $index) {
        <tr>
            <th scope="row">{{report.id}}</th>
            <td>{{report.userName}} {{report.targetId}}</td>
            <td>{{report.reason}}</td>
            <td>
                @if (report.targetType === "BLOG") {
                <a [routerLink]="['/blog', report.targetId]">{{ report.targetType }}</a>
                } @else {
                <a [routerLink]="['/profile', report.targetId]">{{ report.targetType }}</a>
                }
            </td>
            <td>{{report.reportedAt}}</td>
            <td>@if (report.resolved) {
                <span class="status resolved text-primary">Resolved</span>
                }@else {
                <span class="status ">Pending</span>
                }
            </td>
            <td>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <circle cx="12" cy="12" r="1"></circle>
                    <circle cx="12" cy="5" r="1"></circle>
                    <circle cx="12" cy="19" r="1"></circle>
                </svg>

                <ul class="dropdown-menu">

                    <!-- VIEW -->
                    <li>
                        @if (report.targetType === "BLOG") {
                        <button class="dropdown-item d-flex align-items-center gap-2">
                            <i class="bi bi-eye"></i><span>View blog</span>
                        </button>
                        } @else {
                        <button class="dropdown-item d-flex align-items-center gap-2">
                            <i class="bi bi-eye"></i><span>View profile</span>
                        </button>
                        }
                    </li>

                    <li>
                        <hr class="dropdown-divider">
                    </li>

                    <!-- BLOG ACTIONS -->
                    @if (report.targetType === "BLOG") {

                    <li>
                        <button class="dropdown-item d-flex align-items-center gap-2">
                            <i class="bi bi-eye-slash"></i>
                            <span>Hide / Unhide blog</span>
                        </button>
                    </li>

                    <li>
                        <button class="dropdown-item d-flex align-items-center gap-2 text-danger">
                            <i class="bi bi-trash"></i><span>Delete blog</span>
                        </button>
                    </li>
                    }


                    @if (report.targetType !== "BLOG") {

                    <li>
                        <button class="dropdown-item d-flex align-items-center gap-2 text-warning">
                            <i class="bi bi-ban"></i><span>Ban user</span>
                        </button>
                    </li>

                    <li>
                        <button class="dropdown-item d-flex align-items-center gap-2 text-danger">
                            <i class="bi bi-person-x"></i><span>Delete user</span>
                        </button>
                    </li>
                    }

                    <li>
                        <hr class="dropdown-divider">
                    </li>


                    <li>
                        <button class="dropdown-item d-flex align-items-center gap-2" [disabled]="report.resolved">
                            <i class="bi bi-check2-circle"></i><span>Resolve report</span>
                        </button>
                    </li>

                    <li>
                        <button class="dropdown-item d-flex align-items-center gap-2" [disabled]="report.resolved">
                            <i class="bi bi-x-circle"></i><span>Dismiss report</span>
                        </button>
                    </li>

                </ul>
            </td>

        </tr>
        }@empty {
        <p class="fw-bold text-center">No Reports Found.</p>
        }
    </tbody>
</table>