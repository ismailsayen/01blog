@if(!shwoPage()){
<div class="container">
  <form [formGroup]="createForm" (ngSubmit)="onSubmit()">
    <div class="row mb-2">
      <label for="title" class="form-label p-0 fw-bold">Title:</label>
      <input type="text" id="title" formControlName="title" class="form-control input" placeholder="Title">
    </div>
    @if (title?.invalid && (title?.dirty || title?.touched)) {
    @if (title?.hasError("backend")) {
    <div class="text-danger">{{title?.errors?.['backend'] }}</div>
    }
    @if (title?.hasError("required")) {
    <div class="text-danger">tilte is required.</div>
    }
    @if (title?.hasError("minlength") || title?.hasError("maxlength")) {
    <div class="text-danger">title must be between 10 and 100 characters.</div>
    }
    }

    <div class="row align-items-end p-0 buttons">
      <div class="col-6 md-p-2">
        <app-jobs-select [control]="categorie" [label]="'Categorie'" [jobs]="categories" />
      </div>
      <div class="col-6 mb-3">
        <label for="form-label"></label>
        <app-button-submit [value]="path" />
      </div>
    </div>


    <div class="row">
      @if (content?.invalid && (content?.dirty || content?.touched)) {
      @if (content?.hasError("backend")) {
      <div class="text-danger">{{content?.errors?.['backend'] }}</div>
      }
      @if (content?.hasError("required")) {
      <div class="text-danger">content is required.</div>
      }
      @if (content?.hasError("minlength") || content?.hasError("maxlength")) {
      <div class="text-danger">content must be between 100 and 10000 characters.</div>
      }

      @if (content?.hasError('invalidMedia')) {
      <div class="text-danger">
        Allowed media formats: JPG, JPEG, WEBP for images, and MP4, WEBM for videos.
      </div>
      }

      @if (content?.hasError('maxMedia')) {
      <div class="text-danger">
        You can upload a maximum of 5 media files.
      </div>
      }

      @if (content?.hasError('maxMedia')) {
      <div class="text-danger">
        Image size must not exceed 1.5 MB, and video size must not exceed 3 MB.
      </div>
      }


      }

      <div class="position-relative">
        <div class="position-absolute d-flex gap-2 details p-2 ">
          <div>
            <label for="media"><i class="bi bi-file-earmark-image"></i></label>
            <input type="file" id="media" class="d-none" accept="image/*,video/*" (change)="onUploadMedia($event)">
          </div>
          <div>
            <i [ngClass]="!showResult()?'bi bi-eye':'bi bi-eye-slash'" role="button" (click)="changeVisibility()"></i>
          </div>
        </div>
        <div class="d-flex">
          <textarea class="form-control text-area p-3" formControlName="content" id="content"
            placeholder="Share your ideasâ€¦" minlength="100" maxlength="10000">
        </textarea>
        </div>
        @if(showResult()){
        <app-blog-result [data]="data()" />
        }
      </div>
    </div>
  </form>
</div>
}@else {
<div class="loader"></div>

}